---
import ProjectCard from "@/components/ProjectCard.astro";
import Section from "@/components/Section.astro";

import { projects as PROJECTS } from "@/data/cv.json";
---

<Section title="Proyectos">
  <section slot="content">
    {
      PROJECTS.map(
        ({ name, url, description, repository, highlights, isActive }) => (
          <ProjectCard
            name={name}
            description={description}
            isActive={isActive}
            repository={repository}
            {...(url ? { url } : {})}
          >
            {highlights && highlights.length > 0 && (
              <footer slot="highlights">
                {highlights.map((items) => (
                  <span>{items}</span>
                ))}
              </footer>
            )}
          </ProjectCard>
        ),
      )
    }
  </section>
</Section>

<style>
  section {
    width: 100%;
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    column-gap: 8px;
    row-gap: 8px;
  }

  footer {
    padding-top: 6px;
    display: flex;
    flex-wrap: wrap;
    gap: 4px;

    span {
      border-radius: 9999px;
      padding: 3px 8px;
      background: rgba(0, 0, 0, 0.1);
      color: rgba(0, 0, 0);
      font-size: 10px;
      font-weight: 400;
      font-family: "Monaspace Neon", monospace;
    }
  }
</style>
